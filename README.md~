# Git mastery Training

## Projet d'entraînement Git : Objectif "Maîtrise complète des commandes"

Pour s'entraîner efficacement sur la quasi-totalité des commandes Git, il est
pertinent de structurer un projet pédagogique qui nous fera explorer les
commandes essentielles, avancées, et même certaines moins courantes. Voici un plan de projet complet, adapté à un environnement macOS Sequoia (Intel), que l'on pourra réaliser dans le dossier `/Users/<logname>/Projets`.

---

### **1. Initialisation et configuration**

- Installer Git si ce n’est pas déjà fait.
- Configurer son identité :

  ```bash
  git config --global user.name "Your name"
  git config --global user.email "Your.email@example.com"
  ```

- Créer un nouveau dossier de projet et initialiser un dépôt :

  ```bash
  mkdir git-mastery
  cd git-mastery
  git init
  ```

---

### **2. Manipulation de fichiers et commits**

- Créer plusieurs fichiers (ex : `README.md`, `script.py`, `notes.txt`).
- Ajouter-les à l’index, puis faites un commit :

  ```bash
  git add README.md script.py notes.txt
  git commit -m "Premier commit avec plusieurs fichiers"
  ```

- Modifier un fichier, vérifier l’état :

  ```bash
  git status
  git diff
  ```

- Ajouter et committer à nouveau :

  ```bash
  git add script.py
  git commit -m "Modification du script"
  ```

---

### **3. Gestion des branches**

- Créer et naviguer entre plusieurs branches :

  ```bash
  git branch feature-x
  git checkout feature-x
  # ou, plus moderne :
  git switch feature-x
  ```

- Fusionner une branche :

  ```bash
  git checkout main
  git merge feature-x
  ```

- Expérimenter le rebase :

  ```bash
  git rebase feature-x
  ```

- Alternativement :

  ```bash
  git checkout feature-x
  git rebase main
  ```

---

### **4. Gestion des dépôts distants**

- Simuler un dépôt distant avec un second dossier ou utiliser GitHub/GitLab :

  ```bash
  git remote add origin 
  git push -u origin main
  git pull origin main
  ```

---

### **5. Manipulation avancée**

- Stasher des modifications :

  ```bash
  git stash
  git stash list
  git stash pop
  ```

- Supprimer des fichiers suivis et non suivis :

  ```bash
  git rm notes.txt
  git clean -n
  git clean -f
  ```

- Ignorer des fichiers/dossiers (ex : `__pycache__`) :
  - Ajouter à `.gitignore`, puis vérifier avec `git status`[4].

---

### **6. Exploration de l’historique et annulation**

- Explorer l’historique :

  ```bash
  git log
  git log --oneline --graph --all
  ```

- Revenir à un état antérieur :

  ```bash
  git reset --hard HEAD~1
  ```

- Annuler des modifications :

  ```bash
  git checkout -- script.py
  # ou, plus moderne :
  git restore script.py
  ```

---

### **7. Commandes diverses et personnalisations**

- Configurer des alias :

  ```bash
  git config --global alias.lg "log --oneline --graph"
  ```

- Lister toutes les branches, tags, remotes :

  ```bash
  git branch -a
  git tag
  git remote -v
  ```

- Utiliser l’aide intégrée :

  ```bash
  git help 
  ```

---

### **8. Comparaison des différences entre fichiers locaux et fichiers distants**

Pour comparer les différences entre ses fichiers locaux et ceux du dépôt distant (remote) dans Git, il existe plusieurs commandes à sa disposition. Voici les méthodes les plus courantes :

---

#### 1. **Mettre à jour les références du dépôt distant**

Avant toute comparaison, commencer toujours par :

```bash
git fetch
```

Cela synchronise les informations du dépôt distant sans rien modifier dans son répertoire de travail.

---

#### 2. **Comparer le contenu des fichiers entre local et distant**

Pour voir les différences entre sa branche locale (par exemple `main`) et la branche distante correspondante (`origin/main`) :

```bash
git diff main origin/main
```

ou, si on est déjà sur la branche concernée :

```bash
git diff origin/main
```

Cela affiche les différences ligne par ligne entre la version locale et la version distante[1][3][5][6][7].

---

#### 3. **Lister uniquement les fichiers modifiés**

Pour obtenir la liste des fichiers qui diffèrent (ajoutés, modifiés, supprimés) :

```bash
git diff --name-status main origin/main
```

ou, pour la branche courante :

```bash
git diff --name-status origin/main
```

---

#### 4. **Comparer un fichier spécifique**

Pour comparer un fichier précis entre local et distant :

```bash
git diff main..origin/main -- chemin/vers/fichier
```

---

#### 5. **Comparer les commits (et non le contenu des fichiers)**

Pour voir quels commits sont présents sur le remote mais pas en local :

```bash
git log main..origin/main --oneline
```

---

#### 6. **Vérifier si l'on est en avance ou en retard**

```bash
git status
```

nous dira si la branche locale est « ahead » (en avance) ou « behind » (en retard) par rapport à la branche distante, mais n’affichera pas le détail des différences.

---

### **Résumé des commandes clés**

| Action                                  | Commande                                       |
|------------------------------------------|------------------------------------------------|
| Diff entre local et distant (contenu)    | `git diff origin/main`                         |
| Liste des fichiers modifiés              | `git diff --name-status origin/main`           |
| Diff d’un fichier précis                 | `git diff origin/main -- chemin/vers/fichier`  |
| Voir les nouveaux commits distants       | `git log main..origin/main --oneline`          |
| Vérifier l’avance/retard                 | `git status`                                   |

---

**En résumé** :  
Utilise principalement `git fetch` puis `git diff origin/` pour voir les différences de contenu entre ta branche locale et la branche distante, ou `git log` pour comparer les commits.

[1] https://stackoverflow.com/questions/1800783/how-to-compare-a-local-git-branch-with-its-remote-branch
[2] https://corner.buka.sh/how-to-check-for-remote-git-changes-without-pulling/
[3] https://graphite.dev/guides/git-diff-local-remote
[4] https://github.com/git-guides/git-status
[5] https://betterstack.com/community/questions/how-to-compare-local-branch-with-remote/
[6] https://graphite.dev/guides/how-to-compare-a-local-branch-to-a-remote-branch-in-git
[7] https://oozou.com/til/diff-a-local-file-with-remote-version-in-git-35
[8] https://www.reddit.com/r/AskProgramming/comments/s8gkja/is_there_a_way_to_get_git_to_show_me_the/
[9] https://labex.io/tutorials/git-how-to-compare-local-and-remote-repository-changes-after-git-fetch-417571
[10] https://intellij-support.jetbrains.com/hc/en-us/community/posts/207112575-How-do-I-compare-my-local-git-repository-to-remote

## **Liste non exhaustive des commandes à pratiquer**

| Commande              | Description                                      |
|-----------------------|--------------------------------------------------|
| git init              | Initialiser un dépôt                             |
| git clone             | Cloner un dépôt distant                          |
| git status            | État du dépôt                                    |
| git add               | Ajouter à l’index                                |
| git commit            | Créer un commit                                  |
| git log               | Historique des commits                           |
| git diff              | Voir les différences                             |
| git branch            | Gérer les branches                               |
| git checkout/switch   | Changer de branche/restaurer un fichier          |
| git merge             | Fusionner des branches                           |
| git rebase            | Rejouer des commits                              |
| git remote            | Gérer les dépôts distants                        |
| git pull              | Récupérer et fusionner du distant                |
| git push              | Envoyer au distant                               |
| git stash             | Mettre de côté des modifications                 |
| git rm                | Supprimer des fichiers suivis                    |
| git clean             | Supprimer des fichiers non suivis                |
| git tag               | Gérer les tags                                   |
| git reset             | Réinitialiser HEAD ou l’index                    |
| git revert            | Annuler un commit en créant un commit inverse    |
| git config            | Configurer Git                                   |
| git show              | Afficher des objets Git (commit, tag, etc.)      |
| git blame             | Voir qui a modifié chaque ligne                  |
| git cherry-pick       | Appliquer un commit précis sur une autre branche |

[1](https://www.hostinger.com/fr/tutoriels/commandes-git)
[2](https://www.datacamp.com/fr/blog/git-commands)
[5](https://www.datacamp.com/fr/tutorial/github-and-git-tutorial-for-beginners)

---

## **Conseils pour aller plus loin**

- Documenter chaque étape dans un fichier `JOURNAL.md`.
- Utiliser des erreurs volontaires (commits à annuler, conflits à résoudre).
- Tester les commandes de récupération (`git reflog`, `git fsck`, etc.).
- Explorer la personnalisation via `git config` (alias, couleurs, éditeur par défaut...).

---

## **Ressources complémentaires**

- [Hostinger - Commandes Git][https://www.hostinger.com/fr/tutoriels/commandes-git](1)
- [DataCamp - Guide pratique Git][https://www.datacamp.com/fr/blog/git-commands](2)
- [Exercices guidés Git][https://supports.uptime-formation.fr/02-git-et-gitlab/git_1_exo/](4)

---

On peut ainsi se créer un "bac à sable" Git où l'on s'autorise toutes les
manipulations, y compris celles qui "cassent" l'historique, afin de comprendre
l'effet de chaque commande. En suivant ce plan, on pratiquera la quasi-totalité
des commandes Git utiles dans la vie réelle et on pourra compléter avec la
documentation officielle ou l'aide intégrée pour les commandes plus rares.

[1] https://www.hostinger.com/fr/tutoriels/commandes-git
[2] https://www.datacamp.com/fr/blog/git-commands
[3] https://talks.freelancerepublik.com/git-commandes-indispensables-developpeurs/
[4] https://supports.uptime-formation.fr/02-git-et-gitlab/git_1_exo/
[5] https://www.datacamp.com/fr/tutorial/github-and-git-tutorial-for-beginners
[6] https://blog.stephane-robert.info/docs/developper/version/git/
[7] https://training.github.com/downloads/fr/github-git-cheat-sheet.pdf
[8] https://www.macg.co/logiciels/2018/04/decouvrez-et-apprenez-git-avec-ce-nouveau-tutoriel-video-102093?page=1
[9] https://www.atlassian.com/fr/git/tutorials/install-git
[10] https://gist.github.com/dgageot/656299
